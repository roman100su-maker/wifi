<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–í–∏–¥–µ–æ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { width: 100%; height: 100%; overflow: hidden; background: #000; }
        video { width: 100vw; height: 100vh; object-fit: contain; }
        .counter { position: fixed; bottom: 15px; right: 15px; color: rgba(255,255,255,0.7); 
                  font-family: Arial; font-size: 12px; background: rgba(0,0,0,0.6); 
                  padding: 5px 10px; border-radius: 12px; z-index: 100; }
        .loader { position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%);
                  width: 40px; height: 40px; border: 3px solid rgba(255,255,255,0.3);
                  border-top-color: #fff; border-radius: 50%; animation: spin 1s linear infinite;
                  display: none; }
        @keyframes spin { to { transform: translate(-50%,-50%) rotate(360deg); } }
    </style>
</head>
<body>
    <div class="loader" id="loader"></div>
    
    <video id="mainVideo" controls playsinline autoplay muted>
        <!-- –ï—Å–ª–∏ –≤–∏–¥–µ–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "video.mp4" -->
        <source src="video.mp4" type="video/mp4">
        
        <!-- –ò–õ–ò –µ—Å–ª–∏ –≤–∏–¥–µ–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ MOV -->
        <source src="video.mov" type="video/quicktime">
        
        <!-- –ò–õ–ò –µ—Å–ª–∏ —É –≤–∏–¥–µ–æ –¥—Ä—É–≥–æ–µ –∏–º—è -->
        <!-- <source src="–º–æ–µ-–≤–∏–¥–µ–æ.mp4" type="video/mp4"> -->
        
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
    </video>
    
    <div class="counter" id="viewCounter">üëÅÔ∏è <span id="viewCount">0</span></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const video = document.getElementById('mainVideo');
            const loader = document.getElementById('loader');
            
            // –°—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
            let views = localStorage.getItem('video_views') || 0;
            views = parseInt(views) + 1;
            localStorage.setItem('video_views', views);
            document.getElementById('viewCount').textContent = views;
            
            // –ó–∞–≥—Ä—É–∑—á–∏–∫
            video.addEventListener('waiting', () => loader.style.display = 'block');
            video.addEventListener('canplay', () => loader.style.display = 'none');
            video.addEventListener('playing', () => loader.style.display = 'none');
            
            // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–≤—É–∫–∞
            video.addEventListener('click', () => video.muted = false);
            
            // –ê–≤—Ç–æ–ø–ª–µ–π
            video.play().catch(() => {
                console.log('–ê–≤—Ç–æ–ø–ª–µ–π –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω. –ñ–¥–µ–º –∫–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.');
            });
            
            // –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
            video.addEventListener('dblclick', function() {
                if (!document.fullscreenElement) {
                    video.requestFullscreen?.() || 
                    video.webkitRequestFullscreen?.() || 
                    video.msRequestFullscreen?.();
                }
            });
            
            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏
            window.addEventListener('beforeunload', () => {
                localStorage.setItem('videoTime', video.currentTime);
            });
            
            const savedTime = localStorage.getItem('videoTime');
            if (savedTime) {
                video.currentTime = parseFloat(savedTime);
            }
        });
    </script>
</body>
</html>
